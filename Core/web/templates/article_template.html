<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>{{ config.name }} - Kite Laundry Guide</title>
    <style>
        body { font-family: Arial, sans-serif; max-width: 800px; margin: 0 auto; padding: 20px; }
        h1, h2 { color: #4CAF50; }
        ul, ol { line-height: 1.6; }
        a { color: #1E90FF; text-decoration: none; }
        a:hover { text-decoration: underline; }
    </style>
</head>
<body>
    <h1>{{ config.name }}</h1>
    <p><strong>Description:</strong> {{ config.description|default('Custom kite laundry design for single-line kites.') }}</p>
    <p><strong>Generated on:</strong> {{ generated_date }}</p>
    
    <h2>Materials Needed</h2>
    <ul>
        {% for mat in materials %}
            <li><strong>{{ mat.name }}</strong> ({{ mat.type }})
                <ul>
                    <li><strong>Properties:</strong> Weight {{ mat.properties.weight }} gsm{% if mat.properties.thickness %}, Thickness {{ mat.properties.thickness }} mm{% endif %}</li>
                    <li><strong>Suppliers:</strong>
                        <ul>
                            {% for sup in mat.suppliers %}
                                <li><a href="{{ sup.url }}">{{ sup.name }}</a> ({{ sup.regions|join(', ') }}) - {{ sup.notes }} (Currency: {{ sup.currency }})</li>
                            {% endfor %}
                        </ul>
                    </li>
                    <li><strong>Build Notes:</strong> {{ mat.article_notes|join(' | ') }}</li>
                </ul>
            </li>
        {% endfor %}
    </ul>
    
    <h2>Cutting Templates</h2>
    {% if patterns %}
        {% for pattern in patterns %}
            <p>{{ pattern.name }}: <img src="data:image/svg+xml;base64,{{ pattern.svg_base64 }}" alt="{{ pattern.name }} Template"></p>
        {% endfor %}
    {% else %}
        <p>Run generator to produce SVG templates (A4/A3) via pattern_generators/.</p>
    {% endif %}
    
    <h2>Assembly Instructions</h2>
    <ol>
        <li>Print cutting templates on A4/A3 paper.</li>
        <li>Trace templates onto {{ config.material|default('specified material') }} using a fabric marker.</li>
        {% for note in article_notes %}
            <li>{{ note }}</li>
        {% endfor %}
        <li>Sew pieces with a straight stitch, using a 0.5cm seam allowance.</li>
        <li>Attach to kite line via {{ config.attachment.type|default('ring') }} with a {{ config.attachment.bridle_length|default(15) }}cm bridle.</li>
    </ol>
    
    <h2>Visual Reference</h2>
    <p>Diagram: [Placeholder for additional visuals]</p>
    
    <footer>
        <p>Generated by <a href="https://github.com/edjuh/kite_laundry">Kite Laundry Project</a>. Happy flying from the Netherlands! ü™Å</p>
    </footer>
</body>
</html>
